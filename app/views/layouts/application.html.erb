<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Music Shop" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Music Shop">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="vinyl-pattern">
    <nav class="retro-nav fixed top-0 inset-x-0 z-50">
      <div class="w-full px-6 py-4 flex justify-between items-center">
        
        <a href="/" class="retro-logo">
          ðŸŽµ Music Shop
        </a>

        <div class="flex gap-4">
          <% if logged_in? %>
            <span class="text-gray-300" style="padding: 0.5rem 1rem; display: flex; align-items: center;">
              Hola, <%= current_user.name %>
            </span>
            <%= link_to "Sign Out", logout_path, method: :delete, data: { turbo_method: :delete }, class: "btn-neon-pink" %>
          <% else %>
            <%= link_to "Login", login_path, class: "btn-neon-pink" %>
            <%= link_to "Sign Up", new_user_path, class: "btn-neon-cyan" %>
          <% end %>
        </div>

      </div>
    </nav>

    <main class="main-content mx-auto mt-28 px-5 py-8" style="max-width: 1280px;">
      <%= yield %>
    </main>
  </body>
</html>
